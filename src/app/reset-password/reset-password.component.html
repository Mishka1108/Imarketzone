<!-- reset-password.component.html -->
<div class="reset-password-container">
  <div class="reset-password-card">
    <div class="header">
      <h2>{{ 'RESET_PASSWORD.TITLE' | translate }}</h2>
      <p>{{ 'RESET_PASSWORD.SUBTITLE' | translate }}</p>
    </div>

    <form (ngSubmit)="onSubmit()" #resetForm="ngForm" class="reset-form">
      <div class="form-group">
        <label for="password">{{ 'RESET_PASSWORD.FIELDS.NEW_PASSWORD' | translate }}</label>
        <input 
          type="password" 
          id="password"
          name="password"
          [(ngModel)]="password"
          required
          minlength="6"
          [placeholder]="'RESET_PASSWORD.PLACEHOLDERS.MIN_6_CHARS' | translate"
          class="form-control"
          [class.error]="resetForm.submitted && (!password || password.length < 6)"
        >
        <div 
          *ngIf="resetForm.submitted && (!password || password.length < 6)" 
          class="error-message"
        >
          {{ 'RESET_PASSWORD.VALIDATION.PASSWORD_MIN_LENGTH' | translate }}
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">{{ 'RESET_PASSWORD.FIELDS.CONFIRM_PASSWORD' | translate }}</label>
        <input 
          type="password" 
          id="confirmPassword"
          name="confirmPassword"
          [(ngModel)]="confirmPassword"
          required
          [placeholder]="'RESET_PASSWORD.PLACEHOLDERS.REPEAT_PASSWORD' | translate"
          class="form-control"
          [class.error]="resetForm.submitted && password !== confirmPassword"
        >
        <div 
          *ngIf="resetForm.submitted && password !== confirmPassword" 
          class="error-message"
        >
          {{ 'RESET_PASSWORD.VALIDATION.PASSWORD_MISMATCH' | translate }}
        </div>
      </div>

      <!-- შეტყობინების ჩვენება -->
      <div 
        *ngIf="message" 
        class="message"
        [class.success]="messageType === 'success'"
        [class.error]="messageType === 'error'"
      >
        {{ message }}
      </div>

      <div class="form-actions">
        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="isLoading"
        >
          <span *ngIf="isLoading" class="loading-spinner"></span>
          {{ isLoading ? ('RESET_PASSWORD.SAVING' | translate) : ('RESET_PASSWORD.SAVE_PASSWORD' | translate) }}
        </button>

        <a 
          (click)="goToLogin()" 
          class="back-link"
        >
          ← {{ 'RESET_PASSWORD.BACK_TO_LOGIN' | translate }}
        </a>
      </div>
    </form>
  </div>
</div>