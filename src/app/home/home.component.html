<!-- HOME.COMPONENT.HTML - SEO OPTIMIZED -->
<main class="home" role="main" itemscope itemtype="https://schema.org/WebPage">
    
    <!-- Hero Section -->
    <section class="hero-section market" aria-labelledby="main-heading" itemscope itemtype="https://schema.org/SiteNavigationElement">
        <header class="hero-content">
            <h1 id="main-heading" class="buysel" itemprop="headline">
                ყიდვა გაყიდვა უფასოდ საქართველოში - iMarketZone
            </h1>
            <p class="mart" itemprop="description">
                {{ 'HOME.HERO.EASILY' | translate }}
            </p>
            <p class="text hero-description" itemprop="about">
                საქართველოს ყველაზე დიდი ონლაინ მარკეტპლეისი - ყიდვა და გაყიდვა მარტივად, სწრაფად და უსაფრთხოდ. ტელეფონები, ტექნიკა, ავტომობილები, ტანსაცმელი და ათასობით სხვა პროდუქტი.
            </p>
        </header>
        
        <!-- Search Section - SEO Enhanced -->
        <div class="search-section" role="search" itemscope itemtype="https://schema.org/SearchAction">
            <meta itemprop="target" content="https://imarketzone.ge/public-products?search={search_term_string}">
            <form class="search-container" (submit)="onSearch(); $event.preventDefault()" role="search">
                <label for="main-product-search" class="visually-hidden">
                    მოძებნეთ პროდუქტები - ტელეფონები, ტექნიკა, ავტომობილები, ტანსაცმელი
                </label>
                <input 
                    id="main-product-search"
                    type="search" 
                    role="searchbox"
                    name="search"
                    itemprop="query-input"
                    aria-label="პროდუქტების ძებნა - ტელეფონები, ტექნიკა, ავტომობილები"
                    [placeholder]="'მოძებნე პროდუქტი - ტელეფონები, ტექნიკა, ავტომობილები...'"
                    [(ngModel)]="searchQuery" 
                    (input)="onSearchInput($event)"
                    (keyup.enter)="onSearch()"
                    (focus)="showSuggestions = true"
                    autocomplete="off"
                    class="search-input">
                <button 
                    mat-flat-button 
                    type="submit"
                    (click)="onSearch()" 
                    class="search-button"
                    aria-label="ძებნის დაწყება">
                    <span class="material-icons" aria-hidden="true">search</span>
                    <span class="visually-hidden">ძებნა</span>
                </button>
                
                <!-- Suggestions dropdown -->
                <div class="suggestions-dropdown" 
                     *ngIf="showSuggestions && searchQuery.trim().length > 0"
                     role="listbox"
                     aria-label="ძებნის შედეგები">
                    
                    <!-- Loading state -->
                    <div class="suggestions-section" *ngIf="isLoadingProducts" role="status" aria-live="polite">
                        <div class="loading-item">
                            <span class="material-icons" aria-hidden="true">refresh</span>
                            <span>{{ 'HOME.SEARCH.LOADING' | translate }}</span>
                        </div>
                    </div>
                    
                    <!-- Categories section -->
                    <div class="suggestions-section" *ngIf="getFilteredCategories().length > 0">
                        <h3 class="suggestions-heading">{{ 'HOME.SEARCH.BY_CATEGORY' | translate }}</h3>
                        <div class="category-suggestions" role="list">
                            <div class="suggestion-item category-item" 
                                 *ngFor="let category of getFilteredCategories()" 
                                 (click)="selectCategory(category)"
                                 (keydown.enter)="selectCategory(category)"
                                 (keydown.space)="selectCategory(category); $event.preventDefault()"
                                 role="option"
                                 tabindex="0"
                                 [attr.aria-label]="'კატეგორია: ' + category">
                                <span class="material-icons" aria-hidden="true">folder</span>
                                <span>{{category}}</span>
                                <span class="material-icons category-arrow" aria-hidden="true">arrow_forward_ios</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Products section -->
                    <div class="suggestions-section" *ngIf="getFilteredProducts().length > 0 && !isLoadingProducts">
                        <h3 class="suggestions-heading">
                            {{ 'HOME.SEARCH.FOUND_PRODUCTS' | translate }} ({{getFilteredProducts().length}})
                        </h3>
                        <div class="product-suggestions" role="list">
                            <article class="suggestion-item product-item clickable-product" 
                                   *ngFor="let product of getFilteredProducts()" 
                                   (click)="selectProduct(product)"
                                   (keydown.enter)="selectProduct(product)"
                                   (keydown.space)="selectProduct(product); $event.preventDefault()"
                                   role="option"
                                   tabindex="0"
                                   itemscope 
                                   itemtype="https://schema.org/Product"
                                   [attr.aria-label]="'პროდუქტი: ' + product.title + ', ფასი: ' + (product.price ? product.price + ' ლარი' : 'ფასი არ არის მითითებული')">
                                <img [src]="getProductImage(product)" 
                                     [alt]="product.title + ' - ყიდვა გაყიდვა ' + product.category"
                                     class="product-image"
                                     itemprop="image"
                                     loading="lazy"
                                     decoding="async"
                                     width="60"
                                     height="60"
                                     (error)="onImageError($event)">
                                <div class="product-info">
                                    <span class="product-title" [title]="product.title" itemprop="name">
                                        {{product.title}}
                                    </span>
                                    <span class="product-price" *ngIf="product.price" itemprop="offers" itemscope itemtype="https://schema.org/Offer">
                                        <meta itemprop="price" [content]="product.price">
                                        <meta itemprop="priceCurrency" content="GEL">
                                        {{product.price}} ₾
                                    </span>
                                    <span class="product-category" *ngIf="product.category" itemprop="category">
                                        {{product.category}}
                                    </span>
                                </div>
                                <div class="product-action">
                                    <span class="material-icons" aria-hidden="true">arrow_forward_ios</span>
                                    <span class="action-text">{{ 'HOME.SEARCH.DETAILS' | translate }}</span>
                                </div>
                            </article>
                        </div>
                    </div>
                    
                    <!-- No results -->
                    <div class="suggestions-section" 
                         *ngIf="!isLoadingProducts && getFilteredCategories().length === 0 && getFilteredProducts().length === 0 && searchQuery.trim().length > 0"
                         role="status"
                         aria-live="polite">
                        <div class="no-results">
                            <span class="material-icons" aria-hidden="true">search_off</span>
                            <span>{{ 'HOME.SEARCH.NO_RESULTS' | translate }}</span>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        
        <div class="start cta-section">
            <a mat-flat-button 
               routerLink="/login" 
               class="cta-button"
               aria-label="დაიწყე პროდუქტის გაყიდვა უფასოდ">
                {{ 'HOME.HERO.START_NOW' | translate }}
            </a>
        </div>
    </section>

    <!-- Decorative Images -->
    <aside class="circle" aria-hidden="true">
        <div class="circle1">
            <img src="https://i.ibb.co/XN3xpnt/Chat-GPT-Image-Apr-30-2025-09-51-56-AM-removebg-preview.png" 
                 alt="" 
                 loading="lazy"
                 width="200"
                 height="200">
        </div>
        <div class="circle2">
            <img src="https://i.ibb.co/99yWFDHv/Chat-GPT-Image-Apr-30-2025-09-51-56-AM-removebg-preview-removebg-preview.png" 
                 alt=""
                 loading="lazy"
                 width="200"
                 height="200">
        </div>
        <div class="circle3">
            <img src="https://i.ibb.co/676XHMsn/Chat-GPT-Image-Apr-30-2025-09-51-56-AM-removebg-preview-removebg-preview-removebg-preview.png" 
                 alt=""
                 loading="lazy"
                 width="200"
                 height="200">
        </div>
    </aside>
</main>





<!-- ==================== POPULAR PRODUCTS — SEO ENHANCED ==================== -->
<section 
  class="popular-products-section"
  aria-label="პოპულარული პროდუქტები"
  itemscope
  itemtype="https://schema.org/ItemList">

  <meta itemprop="name" content="პოპულარული პროდუქტები — iMarketZone">
  <meta itemprop="description" content="ყველაზე პოპულარული განცხადებები iMarketZone-ზე — ტელეფონები, ლეპტოპები, ავტომობილები და სხვა">

  <h2 class="popular-products-title">
    {{ 'HOME.POPULAR_PRODUCTS.TITLE' | translate }}
  </h2>

  <div class="swiper-wrapper-outer">
    <div class="swiper popular-swiper" role="region" aria-label="პოპულარული პროდუქტების სლაიდერი">
      <div class="swiper-wrapper">

        <div 
          class="swiper-slide"
          *ngFor="let product of getProductsWithHighViews(); let i = index"
          itemprop="itemListElement"
          itemscope
          itemtype="https://schema.org/ListItem">

          <meta itemprop="position" [content]="i + 1">

          <article 
            class="product-card"
            itemprop="item"
            itemscope
            itemtype="https://schema.org/Product"
            [attr.aria-label]="product.title + ' — ' + product.price + ' ლარი'">

            <!-- Product Image -->
            <figure class="product-image" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
              <img 
                [src]="getProductImage(product)"
                [alt]="product.title + ' — ყიდვა გაყიდვა ' + (product.category | categoryTranslate) + ' iMarketZone'"
                itemprop="url"
                loading="lazy"
                decoding="async"
                width="400"
                height="240"
                (error)="onImageError($event)">
              <meta itemprop="width"  content="400">
              <meta itemprop="height" content="240">
            </figure>

            <!-- Product Info -->
            <div class="product-info">

              <h3 class="product-title" itemprop="name">
                {{ product.title }}
              </h3>

              <p class="product-description" itemprop="description">
                {{ product.description | slice:0:100 }}{{ product.description?.length > 100 ? '...' : '' }}
              </p>

              <!-- Offer / Price -->
              <div 
                class="product-price"
                itemprop="offers"
                itemscope
                itemtype="https://schema.org/Offer">
                <meta itemprop="priceCurrency" content="GEL">
                <meta itemprop="price"         [content]="product.price">
                <meta itemprop="availability"  content="https://schema.org/InStock">
                <meta itemprop="url"           [content]="'https://imarketzone.ge/product/' + product.id">
                <link  itemprop="seller"       href="https://imarketzone.ge">
                {{ product.price }} {{ 'HOME.POPULAR_PRODUCTS.LARI' | translate }}
              </div>

              <!-- Stats Row -->
              <div class="product-stats">

                <div class="category-chip" itemprop="category">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <line x1="7" y1="7" x2="7.01" y2="7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  <span>{{ product.category | categoryTranslate }}</span>
                </div>

                <div class="view-count" [class.loading]="isLoadingViews" aria-label="ნახვების რაოდენობა">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  <span>{{ formatViews(product.viewCount || 0) }} {{ 'HOME.POPULAR_PRODUCTS.VIEWS' | translate }}</span>
                </div>

              </div>

              <!-- CTA Button -->
              <button 
                class="view-product-btn"
                [attr.aria-label]="'პროდუქტის ნახვა: ' + product.title"
                (click)="selectProduct(product)">
                {{ 'HOME.POPULAR_PRODUCTS.VIEW_PRODUCT' | translate }}
              </button>

            </div>
          </article>
        </div>

      </div><!-- /swiper-wrapper -->

      <!-- Navigation -->
      <div class="swiper-button-prev popular-prev" role="button" aria-label="წინა პროდუქტი"></div>
      <div class="swiper-button-next popular-next" role="button" aria-label="შემდეგი პროდუქტი"></div>
      <div class="swiper-pagination popular-pagination" role="tablist" aria-label="სლაიდის ნავიგაცია"></div>

    </div><!-- /swiper -->
  </div><!-- /swiper-wrapper-outer -->
</section>




<!-- Categories Section -->
<section class="categorymain" aria-labelledby="categories-heading">
    <h2 id="categories-heading" class="popular-category section-title">
        კატეგორიები - ყიდვა გაყიდვა საქართველოში
    </h2>
    <nav class="category-list" aria-label="პროდუქტის კატეგორიები" role="navigation">
        <article class="category" 
               (click)="onCategoryClick('ტელეფონები')"
               (keydown.enter)="onCategoryClick('ტელეფონები')"
               (keydown.space)="onCategoryClick('ტელეფონები'); $event.preventDefault()"
               role="button"
               tabindex="0"
               aria-label="ტელეფონების ყიდვა გაყიდვა">
            <div class="icon-container" aria-hidden="true">
                <span class="material-icons">smartphone</span>  
            </div>
            <h3>{{ 'HOME.CATEGORIES.PHONES.NAME' | translate }}</h3>
            <p class="category-description">ტელეფონების ყიდვა გაყიდვა - iPhone, Samsung, Xiaomi და სხვა</p>
        </article>
        
        <article class="category" 
               (click)="onCategoryClick('ტექნიკა')"
               (keydown.enter)="onCategoryClick('ტექნიკა')"
               (keydown.space)="onCategoryClick('ტექნიკა'); $event.preventDefault()"
               role="button"
               tabindex="0"
               aria-label="ტექნიკის ყიდვა გაყიდვა">
            <div class="icon-container" aria-hidden="true">
                <span class="material-icons">devices_other</span>
            </div>
            <h3>{{ 'HOME.CATEGORIES.TECH.NAME' | translate }}</h3>
            <p class="category-description">ბითოვი ტექნიკის ყიდვა გაყიდვა - მაცივარი, სარეცხი მანქანა, ტელევიზორი</p>
        </article>
        
        <article class="category" 
               (click)="onCategoryClick('ავტომობილები')"
               (keydown.enter)="onCategoryClick('ავტომობილები')"
               (keydown.space)="onCategoryClick('ავტომობილები'); $event.preventDefault()"
               role="button"
               tabindex="0"
               aria-label="ავტომობილების ყიდვა გაყიდვა">
            <div class="icon-container" aria-hidden="true">
                <span class="material-icons">directions_car</span>
            </div>
            <h3>{{ 'HOME.CATEGORIES.CARS.NAME' | translate }}</h3>
            <p class="category-description">ავტომობილების ყიდვა გაყიდვა საქართველოში - ახალი და მეორადი</p>
        </article>
        
        <article class="category" 
               (click)="onCategoryClick('ტანსაცმელი')"
               (keydown.enter)="onCategoryClick('ტანსაცმელი')"
               (keydown.space)="onCategoryClick('ტანსაცმელი'); $event.preventDefault()"
               role="button"
               tabindex="0"
               aria-label="ტანსაცმლის ყიდვა გაყიდვა">
            <div class="icon-container" aria-hidden="true">
                <span class="material-icons">checkroom</span>
            </div>
            <h3>{{ 'HOME.CATEGORIES.CLOTHING.NAME' | translate }}</h3>
            <p class="category-description">ტანსაცმლის ყიდვა გაყიდვა - ქალბატონებისთვის, მამაკაცებისთვის, ბავშვებისთვის</p>
        </article>
        
        <article class="category" 
               (click)="onCategoryClick('სათამაშოები')"
               (keydown.enter)="onCategoryClick('სათამაშოები')"
               (keydown.space)="onCategoryClick('სათამაშოები'); $event.preventDefault()"
               role="button"
               tabindex="0"
               aria-label="სათამაშოების ყიდვა გაყიდვა">
            <div class="icon-container" aria-hidden="true">
                <span class="material-icons">toys</span>
            </div>
            <h3>{{ 'HOME.CATEGORIES.TOYS.NAME' | translate }}</h3>
            <p class="category-description">სათამაშოების ყიდვა გაყიდვა - განვითარებადი და საგანმანათლებლო</p>
        </article>
        
        <article class="category" 
               (click)="onCategoryClick('კომპიუტერები')"
               (keydown.enter)="onCategoryClick('კომპიუტერები')"
               (keydown.space)="onCategoryClick('კომპიუტერები'); $event.preventDefault()"
               role="button"
               tabindex="0"
               aria-label="კომპიუტერების ყიდვა გაყიდვა">
            <div class="icon-container" aria-hidden="true">
                <span class="material-icons">computer</span>
            </div>
            <h3>{{ 'HOME.CATEGORIES.COMPUTERS.NAME' | translate }}</h3>
            <p class="category-description">კომპიუტერების ყიდვა გაყიდვა - ლეპტოპი, დესკტოპი, აქსესუარები</p>
        </article>
    </nav>
</section>

<!-- Sell Section -->
<section class="sell" aria-labelledby="sell-section-heading">
    <div class="sell-text">
        <h2 id="sell-section-heading" class="sell-free">
            {{ 'HOME.SELL_SECTION.FREE' | translate }}
        </h2>
        <ul class="sell-features">
            <li class="sell-info">✓ {{ 'HOME.SELL_SECTION.FEATURE_1' | translate }}</li>
            <li class="sell-info">✓ {{ 'HOME.SELL_SECTION.FEATURE_2' | translate }}</li>
            <li class="sell-info">✓ {{ 'HOME.SELL_SECTION.FEATURE_3' | translate }}</li>
            <li class="sell-info">✓ {{ 'HOME.SELL_SECTION.FEATURE_4' | translate }}</li>
        </ul>
        <a mat-flat-button 
           routerLink="/login" 
           class="btnsing cta-button"
           aria-label="დაიწყე პროდუქტის გაყიდვა დღესვე უფასოდ">
            {{ 'HOME.SELL_SECTION.START_TODAY' | translate }}
        </a>
    </div>

    <aside class="sell-img" aria-hidden="true">
        <div class="circle">
            <div class="circle1">
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/d/d2/Stitch_%28Lilo_%26_Stitch%29.svg/1200px-Stitch_%28Lilo_%26_Stitch%29.svg.png" 
                     alt=""
                     loading="lazy"
                     width="200"
                     height="200">
            </div>
            <div class="circle2">
                <img src="https://image.api.playstation.com/vulcan/ap/rnd/202503/2520/f3c135f8ebdc50b782c6f5f02b27130b499e22847f05aee6.png" 
                     alt=""
                     loading="lazy"
                     width="200"
                     height="200">
            </div>
            <div class="circle3">
                <img src="https://i.ibb.co/676XHMsn/Chat-GPT-Image-Apr-30-2025-09-51-56-AM-removebg-preview-removebg-preview-removebg-preview.png" 
                     alt=""
                     loading="lazy"
                     width="200"
                     height="200">
            </div>
        </div>
    </aside>
</section>

<!-- Why Us Section -->
<section class="whyus" aria-labelledby="why-us-heading">
    <h2 id="why-us-heading" class="why section-title">
        {{ 'HOME.WHY_US.TITLE' | translate }}
    </h2>
    <ul class="why-us-list">
        <li class="free1">🎯 {{ 'HOME.WHY_US.FREE_REG' | translate }}</li>
        <li class="free1">🔍 {{ 'HOME.WHY_US.EASY_FIND' | translate }}</li>
        <li class="free1">👥 {{ 'HOME.WHY_US.USER_ORIENTED' | translate }}</li>
        <li class="free1">🚀 {{ 'HOME.WHY_US.MODERN' | translate }}</li>
    </ul>
</section>

<!-- Hidden SEO Content -->
<div class="seo-content" style="position: absolute; left: -9999px; width: 1px; height: 1px;" aria-hidden="true">
    <h2>ყიდვა გაყიდვა საქართველოში - iMarketZone</h2>
    <p>iMarketZone არის საქართველოს უმსხვილესი უფასო განცხადებების პორტალი სადაც შეგიძლიათ გაყიდოთ ან იყიდოთ ნებისმიერი პროდუქტი. ჩვენთან მოიძებნება: ტელეფონების ყიდვა გაყიდვა, ავტომობილების ყიდვა გაყიდვა, ბითოვი ტექნიკის ყიდვა გაყიდვა, უძრავი ქონების ყიდვა გაყიდვა, კომპიუტერების ყიდვა გაყიდვა და ათასობით სხვა კატეგორია.</p>
    <p>ყიდვა გაყიდვა უფასოდ, ყიდვა გაყიდვა თბილისში, ყიდვა გაყიდვა საქართველოში, ონლაინ ყიდვა გაყიდვა, უფასო განცხადებები, მარკეტპლეისი საქართველოში</p>
</div>